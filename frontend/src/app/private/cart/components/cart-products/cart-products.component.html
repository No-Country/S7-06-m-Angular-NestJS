<section>
  <div class="product" *ngIf="cart && cart.items.length">
    <ul>
      <li *ngFor="let cartItem of cart.items">
        <div class="name">
          <h3>{{ cartItem.product.name | titlecase }}</h3>
        </div>

        <div class="detail" *ngFor="let img of cartItem.product.images">
          <div class="image">
            <img [src]="img.url" [alt]="cartItem.product.name" />
          </div>

          <div class="contenedor-cant">
            <span class="word-cant"><strong>Cantidad</strong></span>
            <div class="botones">
              <button (click)="handleProduct('remove', cartItem)">
                <strong>-</strong>
              </button>
              <input
                type="text"
                [(ngModel)]="cartItem.total"
                (input)="changeQuantity(cartItem)"
                disabled
              />
              <button (click)="handleProduct('add', cartItem)">
                <strong>+</strong>
              </button>
            </div>
          </div>

          <div class="price">
            <span class="word-cant">
              <strong>Precio</strong>
            </span>
            <span class="current-price">
              <strong>{{ cartItem.product.price | currency }}</strong>
            </span>
          </div>
          <div class="btn">
            <button
              class="btn btn-outline-danger bi bi-trash3"
              (click)="removeFromCart(cartItem.product.id)"
            ></button>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <div class="checkout">
    <div class="count-price">
      <p class="count">{{ cart.totalCount }}</p>
      <p class="total-price">{{ cart.totalPrice | currency }}</p>
    </div>
    <a routerLink="/checkout">Realizar Compra</a>
  </div>
</section>
